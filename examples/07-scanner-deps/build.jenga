
# This example follows example2/3, but makes use of scanner deps.

# Compile C; using scanner dependencies "@"

main.o : @main.d
  gcc -c main.c -o $out

fib.o : @fib.d
  gcc -c fib.c -o $out


# Deps generation...

fib.d : fib.c
  gcc -MG -MM $in > $out

main.d : main.c
  gcc -MG -MM $in > $out


# Link...

main.exe : fib.o main.o
  gcc $ins -o $out
