
# Build
jenga build -a
A: echo 9.8.4 > version
A: echo ~/.ghcup/bin/ghc-$(cat version) > ghc-path
A: echo exec $(cat ghc-path) '"$@"' > ghc.exe
A: chmod +x ghc.exe
A: echo 'import Top' > main.hs
A: ./ghc.exe -M *.hs -dep-makefile depends
A: ./ghc.exe -c A.hs
A: ./ghc.exe -c C.hs
A: ./ghc.exe -c B.hs
A: ./ghc.exe -c Top.hs
A: ./ghc.exe -c main.hs
A: ./ghc.exe main.o Top.o B.o C.o A.o -o diamond.exe
checked 16 targets
ran 12 commands

# Run
jenga exec diamond.exe
Top[B[A],C[A]]

# Debug demand
jenga build --debug-demand
B: Require: diamond.exe
B: Require: ghc.exe
B: Require: ghc-path
B: Require: version
B: Require: main.o
B: Require: depends
B: Require: main.hs
B: Require: Top.hi
B: Require: C.hi
B: Require: A.hi
B: Require: B.hi
B: Require: Top.o
B: Require: B.o
B: Require: C.o
B: Require: A.o
B: Require: main.hi
checked 16 targets
