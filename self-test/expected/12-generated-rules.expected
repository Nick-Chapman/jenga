
# Build
jenga build -a
A: echo '.output\n12-generated-rules.sh\nbuild.jenga\ndefs.h\nfib.c\nfib.h\njenga\njenga.exe\nmain.c' > all.files
A: cat all.files | grep '.c$' > c.files
A: cat c.files | sed 's|\(.*\).c$|\1.o : @depends : gcc -c -o \1.o \1.c|' > c.rules
A: cat c.files | sed 's|\(.*\).c|\1.o|' > o.files
A: cat all.files | grep '.h$' > h.files
A: gcc -MG -MM $(cat c.files) > depends
A: gcc -c -o fib.o fib.c
A: gcc -c -o main.o main.c
A: gcc -o hello.exe $(cat o.files)
checked 9 targets
ran 9 commands

# Run
jenga exec hello.exe
Hello, 55 jenga. Discovered deps and generated rules.

# Change & rereun
sed -i 's/10/11/' defs.h
jenga exec hello.exe
Hello, 89 jenga. Discovered deps and generated rules.

# Targets
jenga build --list-targets
all.files
hello.exe
c.files
o.files
h.files
depends
c.rules
fib.o
main.o

# Rules
jenga build --list-rules
all.files : 
  echo '.output\n12-generated-rules.sh\nbuild.jenga\ndefs.h\nfib.c\nfib.h\njenga\njenga.exe\nmain.c' > all.files

hello.exe : o.files fib.o main.o
  gcc -o hello.exe $(cat o.files)

c.files : all.files
  cat all.files | grep '.c$' > c.files

o.files : c.files
  cat c.files | sed 's|\(.*\).c|\1.o|' > o.files

h.files : all.files
  cat all.files | grep '.h$' > h.files

depends : c.files fib.c main.c 12-generated-rules.sh defs.h fib.h
  gcc -MG -MM $(cat c.files) > depends

c.rules : c.files
  cat c.files | sed 's|\(.*\).c$|\1.o : @depends : gcc -c -o \1.o \1.c|' > c.rules

fib.o : fib.c fib.h
  gcc -c -o fib.o fib.c

main.o : main.c fib.h defs.h
  gcc -c -o main.o main.c
